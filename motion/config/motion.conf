# Motion configuration tailored for dockerized motionproject image
# Streams on 8081, web control on 8080, writes data/logs to mounted volumes.

daemon off
setup_mode off
log_level 6
log_file /var/log/motion/motion.log

# Camera device
video_device /dev/video0

# Resolution / framerate
width 1280
height 720
framerate 15

# Overlay text
text_left HDMI_USB_CAM
text_right %Y-%m-%d\\n%T-%q

# Motion detection tuning
threshold 1500
despeckle_filter EedDl
minimum_motion_frames 1
event_gap 30
pre_capture 3
post_capture 2
locate_motion_mode on
locate_motion_style box
stream_motion on

# Output
target_dir /var/lib/motion
picture_output off
movie_output on
movie_max_time 120
movie_quality 60
movie_codec mkv
movie_filename %t-%v-%Y%m%d%H%M%S

# Web control + stream
webcontrol_port 8080
webcontrol_localhost off
webcontrol_parms 2

stream_port 8081
stream_localhost off
stream_maxrate 5

# Additional cameras can be added as extra config files in /etc/motion/conf.d
# camera /etc/motion/conf.d/cam2.conf
